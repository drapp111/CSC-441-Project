<!DOCTYPE html>
<html>
<head>
<link rel="stylesheet" href="styles\styling.css">
<style>
div {
  margin: 5px 0;
	border-radius: 10px;
  background-color: #c5c6c7;
  padding: 10px;

}

table {
	width: 100%;
	text-align: left;
}

</style>

<script>

  function validate_title() {
    var title_input = document.forms["to-do"]["title"].value;
      if (title_input.length < 1) {
        return false;
      }
  }

  function validate_date() {
    var due_date = document.forms["to-do"]["duedate"].value;
    var date = new Date(due_date);
    console.log(date);
    if (date == null) {
      return false;
    }
  }

  function validate_description() {
    var description = document.forms["to-do"]["description"].value;
    if(description.length < 1) {
      return false;
    }

  }

  function validate_priority() {
    var alphabet = ("ABCDEFGHIJKLMNOPQRSTUVWXYZ");
    var priority = document.forms["to-do"]["priority"].value;
    if(priority == "") {
      return true;
    }
    if (isNaN(priority)) {
      if (!(alphabet.includes(priority.toUpperCase()))) {
        return false;
      }
      else {
        return true;
      }
    }
    else if (priority < 1 || priority > 10) {
      return false;
    }
  }

  function validate_status() {
    var valid_inputs = ["not-started", "in-progress", "done"];
    var status = document.forms["to-do"]["status"].value;
    if(status == "") {
      return true;
    }
    if (!valid_inputs.includes(status)) {
      return false;
    }
  }

  function validate_form() {
    alert("Validate form is being run");
    var alert_message = "";
    if(validate_title() == false) {
      alert_message += "Title must contain more than one character\n";
    }
    if(validate_date() == false) {
      alert_message += "Date is invalid\n";
    }
    if(validate_description() == false) {
      alert_message += "Description must contain more than one character\n";
    }
    if(validate_priority() == false) {
      alert_message += "Priority is invalid\n";
    }
    if(validate_status() == false) {
      alert_message += "Status is invalid";
    }
    if(alert_message.length == 0) {
      return true;
    }
    else {
      alert(alert_message);
      return false;
    }
  }

</script>


</head>
<body>

<header><h1>New To-Do Item</h1></header>

<section>
	<nav style = "height: 350px; padding: 9% 0">
		<a href = "dueDate.html" class = "button">Sorted by Due Date</a>
		<a href = "description.html" class = "button">Sorted by Description</a>
		<a href = "priority.html" class = "button">Sorted by Priority</a>
		<a href = "status.html" class = "button">Sorted by Status</a>
		<a href = "dateCreated.html" class = "button">Sorted by Date Created</a>
		<a href = "to-do%20form.html" class = "button">New To-Do Item</a>
	</nav>

	<content style = "height: 350px;">
		<div>
		<form name = "to-do" onsubmit = "return validate_form()" method = "post">
		<table>
			<tr>
				<td colspan = "1"><label for = "Title">Title</label></td>
				<td colspan = "1"><label for="duedate">Due Date</label></td>
			</tr>
			<tr>
				<td><input type="text" id="title" name="title" placeholder="Title..."></td>
  				<td><input type= "date" id = "duedate" name = "duedate" placeholder = "mm/dd/yyyy"></td>
			</tr>
		</table>
  			<label for="description">Description</label>
  			<input type="text" id="description" name="description" placeholder="Description...">
		<table>
			<tr>
				<td colspan = "1"><label for="priority">Priority</label></th>
				<td colspan = "1"><label for="status">Status</label></th>
			</tr>

			<tr>
				<td><input style = "width: 100%;" type="text" id="priority" name="priority" placeholder="Priority..."></th>
				<td><input style = "width: 100%;" type="text" id="status" name="status" placeholder="Status..."></th>
  			</tr>
		</table>
			<input type="submit" value="Submit">
		</form>
		</div>
	</content>
</section>

<footer>
	<p>Built by Declan Rapp for Le Moyne CSC-441</p>
</footer>

</body>
</html>
